import{_ as w,r as b,o as D,b as c,e as s,f as N,F as S,i as W,j as $,m as v,a,t,g as h,l as B}from"./index-CH_Ckgnz.js";const C={id:"all"},I={key:0},L=["onClick"],j={class:"a1a"},x=["src"],V={class:"a1b"},l={class:"a1ba"},A={class:"a1c"},F={key:0},J={key:1},O={__name:"WantWatch",setup(q){const r=b([]);D(()=>{k()});const k=()=>{const o=JSON.parse(localStorage.getItem("token")),n=JSON.parse(localStorage.getItem("users"))||[];if(o){const u=o,d=n.find(e=>e.username===u);d&&Array.isArray(d.wantwatch)?r.value=d.wantwatch:r.value=[]}else console.log("未登录"),r.value=[]},g=B(),y=o=>{g.push({path:"/fil",query:{movieId:o}})};return(o,n)=>{const u=v("van-icon"),d=v("van-empty");return a(),c("div",C,[s("header",null,[N(u,{name:"arrow-left",color:"#000",size:"24",onClick:n[0]||(n[0]=e=>o.$router.back())}),n[1]||(n[1]=s("div",{class:"title"},"想看列表",-1))]),r.value.length>0?(a(),c("div",I,[(a(!0),c(S,null,W(r.value,e=>{var _,p;return a(),c("div",{class:"a1",key:e.id,onClick:z=>y(e.id)},[s("div",j,[s("img",{src:e==null?void 0:e.img,alt:""},null,8,x)]),s("div",V,[s("h3",null,t(e==null?void 0:e.nm),1),s("div",l,[s("p",null,t(e==null?void 0:e.enm),1),s("p",null,t((_=e==null?void 0:e.cat)==null?void 0:_.split(",").join(" / ")),1),s("p",null,t((p=e==null?void 0:e.star)==null?void 0:p.split(",").join(" / ")),1),s("p",null,[h(t(e==null?void 0:e.pubDesc)+" / ",1),s("span",null,t((e==null?void 0:e.episodeDur)!==0?`${e==null?void 0:e.episodeDur}分钟`:`${e==null?void 0:e.dur}分钟`),1)])]),s("div",A,[e!=null&&e.sc?(a(),c("p",F,[h(t(e==null?void 0:e.scoreLabel)+" ",1),s("span",null,t(e==null?void 0:e.sc),1)])):(a(),c("p",J,"暂无评分"))])])],8,L)}),128))])):(a(),$(d,{key:1,description:"暂无想看的电影"}))])}}},M=w(O,[["__scopeId","data-v-d97f58d9"]]);export{M as default};
