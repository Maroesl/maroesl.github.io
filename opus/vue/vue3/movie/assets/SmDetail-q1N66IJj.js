import{_ as b,x as w,r as i,S as N,b as d,e as s,f as l,F as B,i as D,p as E,m as f,a as v,n as F,z as R,g as $,t as p,k as I,V as L}from"./index-CUj4cCHW.js";import{S as M}from"./zeng-DtQCmkjT.js";const j={class:"back-button"},U=["src","poster"],q={class:"line"},A={style:{"margin-top":"20rem"}},G={class:"icon"},H={class:"info"},J={class:"icon"},K={class:"icon"},O={class:"dsc"},P={class:"name"},Q={__name:"SmDetail",setup(W){const g=M(),{list:h}=w(g),m=h.value,c=i(!1),T=()=>{c.value=!c.value},a=i(0),u=i(0),n=i(0),k=N("videos"),_=()=>{k.value.forEach((e,o)=>{o===a.value?e.play():e.pause()})},y=e=>{e.target.paused?e.target.play():e.target.pause()},x=e=>{u.value=e.touches[0].clientY},S=e=>{n.value=e.touches[0].clientY},z=()=>{const e=n.value-u.value;e>50&&n.value!==0&&a.value>0?(a.value--,_()):e<-50&&n.value!==0&&a.value<m.length-1&&(a.value++,_()),u.value=0,n.value=0};return(e,o)=>{const r=f("van-icon"),C=f("van-image");return v(),d("div",{class:"video-container",onTouchstart:x,onTouchmove:S,onTouchend:z},[s("div",j,[l(r,{name:"arrow-left",onClick:o[0]||(o[0]=t=>e.$router.back()),size:"30rem",color:"#999"})]),(v(!0),d(B,null,D(E(m),(t,V)=>(v(),d("div",{key:t.id,style:F({transform:`translateY(${(V-a.value)*100}%)`}),class:"video-wrapper"},[s("video",{src:t.video.url,class:"video-player",loop:"",poster:t.video.imgUrl,preload:"none",ref_for:!0,ref:"videos",onClick:o[1]||(o[1]=Y=>y(Y))},null,8,U),s("div",q,[l(C,{round:"",src:t.user.avatarurl,size:"48rem",fit:"cover"},{error:R(()=>o[2]||(o[2]=[$("加载失败")])),_:2},1032,["src"]),s("div",A,[s("div",G,[l(r,{size:"32rem",name:"good-job-o"})]),s("div",H,p(t.upCount),1)]),s("div",null,[s("div",J,[l(r,{size:"32rem",name:"chat-o"})]),o[3]||(o[3]=s("div",{class:"info"},"评论",-1))]),s("div",null,[s("div",K,[l(r,{size:"32rem",name:"share-o"})]),o[4]||(o[4]=s("div",{class:"info"},"分享",-1))])]),s("div",O,[s("div",P,p(t.user.nickName),1),s("p",{class:I({"text-clamp":!c.value}),onClick:L(T,["stop"])},p(t.title),3)])],4))),128))],32)}}},ee=b(Q,[["__scopeId","data-v-67e0ec4a"]]);export{ee as default};
